/* Faction Tracker – Mobile Layout */

@media (max-width: 768px) {
  /* Overall app stacking */
  .app {
    display: flex;
    flex-direction: column;
    gap: 24px;
    margin: 0 14px 28px;
  }

  /* Faction Info above Coffers on mobile */
  .top-row {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  #factionInfoCard,
  #coffersCard {
    width: 100%;
  }

  /* Card shell styling (matches character sheet vibe) */
  .card {
    background: linear-gradient(
      180deg,
      rgba(10, 14, 22, 0.95) 0%,
      rgba(16, 20, 34, 0.96) 100%
    );
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    padding: 16px 18px;
    box-shadow: 0 10px 28px rgba(0, 0, 0, 0.55);
  }

  .card-inner {
    padding: 0;
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
  }

  .card-header h2 {
    font-size: 0.95rem;
    letter-spacing: 0.18em;
    padding-left: 8px;
    border-left: 3px solid var(--accent);
    color: var(--accent);
    text-transform: uppercase;
  }

  /* --- Coffers & Resources: 2-column grid --- */
  .coffers-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 14px;
  }

  .coffer-box {
    background: rgba(20, 26, 42, 0.9);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.04);
    padding: 12px 10px;
    font-size: 0.9rem;
    color: var(--text);
  }

  /* --- Tables → card layout (Season, Events, Hexes) --- */

  .season-table thead,
  .event-table thead,
  .hex-table thead {
    display: none;
  }

  .season-table tbody,
  .event-table tbody,
  .hex-table tbody {
    display: flex;
    flex-direction: column;
    gap: 14px;
  }

  .season-row,
  .event-row,
  .hex-row {
    display: block;
    background: rgba(8, 12, 30, 0.97);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    padding: 12px 12px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.45);
    transition: transform 0.15s ease;
  }

  .season-row:active,
  .event-row:active,
  .hex-row:active {
    transform: scale(0.98);
  }

  .season-row td,
  .event-row td,
  .hex-row td {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    font-size: 0.85rem;
    padding: 6px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  }

  .season-row td:last-child,
  .event-row td:last-child,
  .hex-row td:last-child {
    border-bottom: none;
  }

  .season-row td::before,
  .event-row td::before,
  .hex-row td::before {
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--muted);
    margin-right: 8px;
    content: "";
  }

  /* --- Seasonal Resource Gains labels --- */
  .season-row td:nth-child(1)::before {
    content: "Season";
  }
  .season-row td:nth-child(2)::before {
    content: "Year";
  }
  .season-row td:nth-child(3)::before {
    content: "Food";
  }
  .season-row td:nth-child(4)::before {
    content: "Wood";
  }
  .season-row td:nth-child(5)::before {
    content: "Stone";
  }
  .season-row td:nth-child(6)::before {
    content: "Ore";
  }
  .season-row td:nth-child(7)::before {
    content: "Silver";
  }
  .season-row td:nth-child(8)::before {
    content: "Gold";
  }

  /* Hide Notes column on the card (still available in modal) */
  .season-row td:nth-child(9) {
    display: none;
  }

  .season-row td:nth-child(10)::before {
    content: "";
  }

  /* --- Events & Turn Actions labels --- */
  .event-row td:nth-child(1)::before {
    content: "Event";
  }
  .event-row td:nth-child(2)::before {
    content: "Date";
  }
  .event-row td:nth-child(3)::before {
    content: "Type";
  }
  .event-row td:nth-child(4)::before {
    content: "Builds";
  }
  .event-row td:nth-child(5)::before {
    content: "Moves";
  }
  .event-row td:nth-child(6)::before {
    content: "Offense";
  }
  .event-row td:nth-child(7)::before {
    content: "";
  }

  /* --- Controlled Hexes labels (this is the part that was off) --- */
  .hex-row td:nth-child(1)::before {
    content: "Hex";
  }
  .hex-row td:nth-child(2)::before {
    content: "Name";
  }
  .hex-row td:nth-child(3)::before {
    content: "Terrain";
  }
  .hex-row td:nth-child(4)::before {
    content: "Structures";
  }
  .hex-row td:nth-child(5)::before {
    content: "";
  }

  /* Buttons: grouped on the bottom row for all three card types */
  .season-row td:last-child,
  .event-row td:last-child,
  .hex-row td:last-child {
    display: flex;
    justify-content: flex-start;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: 8px;
    padding-top: 8px;
  }

  .season-row td:last-child .button,
  .event-row td:last-child .button,
  .hex-row td:last-child .button {
    font-size: 0.75rem;
    padding: 5px 10px;
    min-width: 0;
    flex: 0 0 auto;
  }

  /* Details rows under cards */
  .season-details-row td,
  .event-details-row td,
  .hex-details-row td {
    padding: 10px 14px;
    font-size: 0.82rem;
  }

  .season-details-row pre,
  .event-details-row pre,
  .hex-details-row pre {
    white-space: pre-wrap;
    line-height: 1.35;
    color: var(--text);
  }
}
/* --------------------------------------------------
   Two-Across Card Layout (matches character sheet)
-------------------------------------------------- */

@media (min-width: 460px) and (max-width: 768px) {

  /* Make the Seasonal, Event, and Hex card containers into grids */
  .season-table tbody,
  .event-table tbody,
  .hex-table tbody {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr);
    gap: 14px;
  }

  /* Ensure each card fits naturally into grid */
  .season-row,
  .event-row,
  .hex-row {
    width: 100%;
  }

  /* Details rows remain full-width below the card */
  .season-details-row,
  .event-details-row,
  .hex-details-row {
    grid-column: span 2;
  }
}
