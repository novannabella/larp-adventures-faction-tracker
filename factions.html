<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Osterra Faction Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Modern styles (desktop & mobile) -->
    <link
      rel="stylesheet"
      href="factions-styles-desktop.css"
      media="(min-width: 701px)"
    />
    <link
      rel="stylesheet"
      href="factions-styles-mobile.css"
      media="(max-width: 700px)"
    />
  </head>
  <body>
    <h1>Osterra</h1>
    <p class="subtitle">Faction & Land Tracker</p>

    <div class="top-controls">
      <div class="save-load-controls">
        <button id="loadStateBtn" class="button secondary">
          Load Faction State
        </button>
        <input
          type="file"
          id="loadStateFile"
          accept=".json"
          style="display:none"
        />
        <button id="saveStateBtn" class="button secondary">
          Save Faction State
        </button>
      </div>
    </div>

    <div class="app">
      <!-- FACTION INFO + COFFERS AT TOP -->

      <!-- Faction Info -->
      <div class="card">
        <div class="card-inner">
          <h2>Faction Information</h2>

          <div class="section-row">
            <div class="field">
              <label for="factionName">Faction Name</label>
              <input
                type="text"
                id="factionName"
                placeholder="The Grove, Blackthorn Company, ..."
              />
            </div>
            <div class="field">
              <label for="factionNotes">Faction Notes</label>
              <textarea
                id="factionNotes"
                placeholder="High-level notes, goals, treaties, etc."
              ></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- Coffers / Resources -->
      <div class="card">
        <div class="card-inner">
          <h2>Coffers & Resources</h2>
          <div class="section-row">
            <div class="field">
              <label for="food">Food</label>
              <input type="number" id="food" min="0" value="0" />
            </div>
            <div class="field">
              <label for="wood">Wood</label>
              <input type="number" id="wood" min="0" value="0" />
            </div>
          </div>

          <div class="section-row">
            <div class="field">
              <label for="stone">Stone</label>
              <input type="number" id="stone" min="0" value="0" />
            </div>
            <div class="field">
              <label for="ore">Ore</label>
              <input type="number" id="ore" min="0" value="0" />
            </div>
          </div>

          <div class="section-row">
            <div class="field">
              <label for="silver">Silver</label>
              <input type="number" id="silver" min="0" value="0" />
            </div>
            <div class="field">
              <label for="gold">Gold</label>
              <input type="number" id="gold" min="0" value="0" />
            </div>
          </div>
        </div>
      </div>

      <!-- CONTROLLED HEXES -->

      <div class="card">
        <div class="card-inner">
          <div class="card-header-row">
            <h2>Controlled Hexes</h2>
          </div>

          <!-- Add Hex Form -->
          <div class="add-hex-card">
            <!-- Line 1: Name + Hex Number -->
            <div class="section-row hex-input-row-1">
              <div class="field">
                <label for="newHexName">Name</label>
                <input
                  type="text"
                  id="newHexName"
                  placeholder="Aspen's Rest, Concordias..."
                />
              </div>
              <div class="field">
                <label for="newHexNumber">Hex Number</label>
                <input
                  type="text"
                  id="newHexNumber"
                  maxlength="5"
                  placeholder="1234"
                />
              </div>
            </div>

            <!-- Line 2: Terrain + Structure with Add buttons -->
            <div class="section-row hex-input-row-2">
              <div class="field">
                <label for="newHexTerrainSelect">Terrain</label>
                <div class="inline">
                  <select id="newHexTerrainSelect">
                    <option value="">-- Select Terrain --</option>
                    <option value="Plains">Plains</option>
                    <option value="Forest">Forest</option>
                    <option value="Hills">Hills</option>
                    <option value="Mountains">Mountains</option>
                    <option value="Swamp">Swamp</option>
                    <option value="Coastal">Coastal</option>
                    <option value="Lake">Lake</option>
                    <option value="Desert">Desert</option>
                    <option value="Ruins">Ruins</option>
                  </select>
                  <button id="addHexTerrainBtn" class="button small secondary">
                    Add
                  </button>
                </div>
              </div>

              <div class="field">
                <label for="newHexStructureSelect">Structure / Upgrade</label>
                <div class="inline">
                  <select id="newHexStructureSelect">
                    <option value="">-- Add Structure --</option>
                    <option value="Village">Village</option>
                    <option value="Town">Town</option>
                    <option value="City">City</option>
                    <option value="Farm">Farm</option>
                    <option value="Lumber Mill">Lumber Mill</option>
                    <option value="Quarry">Quarry</option>
                    <option value="Mine (Ore)">Mine (Ore)</option>
                    <option value="Mine (Silver)">Mine (Silver)</option>
                    <option value="Mine (Gold)">Mine (Gold)</option>
                    <option value="Market">Market</option>
                    <option value="Blacksmith">Blacksmith</option>
                    <option value="Carpenter's Shop">Carpenter's Shop</option>
                    <option value="Mason's Shop">Mason's Shop</option>
                    <option value="Watch Tower">Watch Tower</option>
                    <option value="Fort">Fort</option>
                    <option value="Castle">Castle</option>
                    <option value="Dock">Dock</option>
                    <option value="Shipyard">Shipyard</option>
                    <option value="Fishing Fleet">Fishing Fleet</option>
                    <option value="Trading Vessel">Trading Vessel</option>
                    <option value="War Galley">War Galley</option>
                    <option value="Special">Special</option>
                  </select>
                  <button id="addHexStructureBtn" class="button small secondary">
                    Add
                  </button>
                </div>
              </div>
            </div>

            <!-- Line 3: Terrain list + Structure list + Resource notes + Add Hex -->
            <div class="section-row hex-input-row-3">
              <div class="field">
                <label for="newHexTerrainList">Terrain (Selected)</label>
                <input
                  type="text"
                  id="newHexTerrainList"
                  placeholder="Forest, Hills..."
                  readonly
                />
              </div>
              <div class="field">
                <label for="newHexStructures">Structures (Selected)</label>
                <input
                  type="text"
                  id="newHexStructures"
                  placeholder="Farm, Watch Tower..."
                  readonly
                />
              </div>
              <div class="field">
                <label for="newHexNotes">Resource Notes</label>
                <textarea
                  id="newHexNotes"
                  placeholder="Primary / Secondary / Tertiary notes"
                ></textarea>
                <button id="addHexBtn" class="button small">
                  Add Hex
                </button>
              </div>
            </div>
          </div>

          <!-- Faction Land List -->
          <div class="faction-land-list">
            <div class="faction-land-header-row">
              <div class="fl-col fl-land-title">Faction Land</div>
              <div class="fl-col fl-upkeep-title">Upkeep</div>
            </div>
            <div class="faction-land-subheader">
              <div class="faction-land-grid fl-subgrid">
                <div class="fl-cell fl-head-name">Name</div>
                <div class="fl-cell fl-head-hex">Hex</div>
                <div class="fl-cell fl-head-food">Food</div>
                <div class="fl-cell fl-head-wood">Wood</div>
                <div class="fl-cell fl-head-stone">Stone</div>
                <div class="fl-cell fl-head-gold">Gold</div>
              </div>
            </div>
            <div id="hexList" class="faction-land-body">
              <!-- Hex rows injected here -->
            </div>
          </div>
        </div>
      </div>

      <!-- EVENTS & TURN ACTIONS -->

      <div class="card">
        <div class="card-inner">
          <h2>Events & Turn Actions</h2>

          <!-- Add Event Bar -->
          <div class="add-event-card">
            <div class="section-row">
              <div class="field">
                <label for="newEventName">Event Name</label>
                <input
                  type="text"
                  id="newEventName"
                  placeholder="Spring Festival, Battle of Eponore, ..."
                />
              </div>
              <div class="field">
                <label for="newEventDate">Event Date</label>
                <input type="date" id="newEventDate" />
              </div>
            </div>

            <div class="section-row">
              <div class="field">
                <label for="newEventType">Event Type</label>
                <select id="newEventType">
                  <option value="">-- Select Type --</option>
                  <option value="Day Event">Day Event</option>
                  <option value="Campout">Campout</option>
                  <option value="Festival Event">Festival Event</option>
                  <option value="Virtual Event">Virtual Event</option>
                </select>
              </div>
              <div class="field">
                <label>&nbsp;</label>
                <div class="inline">
                  <button id="addEventBtn" class="button small">
                    Add Event
                  </button>
                  <span class="sort-label">Sort by date:</span>
                  <select id="eventSortOrder">
                    <option value="asc">Ascending</option>
                    <option value="desc">Descending</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Event List -->
          <div id="eventList" class="event-list">
            <!-- Event cards injected here -->
          </div>
        </div>
      </div>

      <!-- SEASONAL RESOURCE GAINS -->

      <div class="card">
        <div class="card-inner">
          <h2>Seasonal Resource Gains</h2>

          <div class="section-row">
            <div class="field">
              <label for="seasonSelect">Season</label>
              <select id="seasonSelect">
                <option value="Spring">Spring</option>
                <option value="Summer">Summer</option>
                <option value="Fall">Fall</option>
                <option value="Winter">Winter</option>
              </select>
            </div>
            <div class="field">
              <label>&nbsp;</label>
              <p class="section-intro">
                Enter resources gained for the selected season of the current
                game year.
              </p>
            </div>
          </div>

          <div class="section-row">
            <div class="field">
              <label for="seasonFood">Food Gained</label>
              <input type="number" id="seasonFood" min="0" value="0" />
            </div>
            <div class="field">
              <label for="seasonWood">Wood Gained</label>
              <input type="number" id="seasonWood" min="0" value="0" />
            </div>
          </div>

          <div class="section-row">
            <div class="field">
              <label for="seasonStone">Stone Gained</label>
              <input type="number" id="seasonStone" min="0" value="0" />
            </div>
            <div class="field">
              <label for="seasonOre">Ore Gained</label>
              <input type="number" id="seasonOre" min="0" value="0" />
            </div>
          </div>

          <div class="section-row">
            <div class="field">
              <label for="seasonSilver">Silver Gained</label>
              <input type="number" id="seasonSilver" min="0" value="0" />
            </div>
            <div class="field">
              <label for="seasonGold">Gold Gained</label>
              <input type="number" id="seasonGold" min="0" value="0" />
            </div>
          </div>

          <div class="section-row">
            <div class="field">
              <label for="seasonNotes">Season Notes</label>
              <textarea
                id="seasonNotes"
                placeholder="Encounters, penalties, bonuses, weather notes, etc."
              ></textarea>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="factions-script.js"></script>
  </body>
</html>
